<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Reporte Embedded</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/powerbi-client/2.23.1/powerbi.min.js"></script>


    <style>
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            background: #f4f4f4;
            font-family: Arial, sans-serif;
        }
        #reportContainer {
            width: 100%;
            height: 100%;
            border: none;
        }
    </style>
</head>
<body>

<div id="reportContainer"></div>

<script>
    // 1. Token Embed generado por tu backend
    let embedToken = "rVIyL8elc6_fihhr69EfHZ9gfVulmvFuLBwBHyaT5yOawwl65yYzilQR0DwbqGsAZQpRT3sGkcxFvdl7efvmFrkmFMglY0PyiwSXc27PY3cGRNg69LO4SyOiNG2Uzswymq8GrH9X82W8l2is8yf6sTsBP6x6sUiJNzi1l0uoMNEIuodpPLYG-zROYu742T5mSQZmBvTTcvHXPIVARLqhLg1h2wnfxCtbVcCALMUX35OhWAq4PX61imd1-qkLo_WlZxfVkqHhwRpfU5a5cJyBrf3XX_8xX2OVz7L_q3yjVGzkXDvzp5zbr4fwWvb7_8qtyz5etzn_zRyzQdRpsI9EVIrh40eRViw6XdrT4yZVlVBi5vmWiPMSlnAfITtuyZFMiSxqKaUIdkFVFW7dE3od1sGgPUk6slhjRLpzus4zeSivsK84UZ5hNOyYj_BVnWKbXZS4I6k6AptXfn_PvC5xBZRzcIXLzR4wMfQWa8cN8DafrKOS9FZeUNiUvrSP-8RnkFB0hIMvLntxQ55W8ClQcKqHusjUdpTvB2dCNUuW95omW5W2ynE-TPTrqpd6yaILXmtwoKuUX3IQxPWGwm-S7i_W0LlWbBf_RmKDm-BoiOnGeWpjfjHB-bzTSFv3R0w53dYiqL83vyfm9tdcf1EOJtoT5ncGXBld2F_mf_4F2dDSNMIGAAA=.eyJjbHVzdGVyVXJsIjoiaHR0cHM6Ly9XQUJJLVBBQVMtMS1TQ1VTLXJlZGlyZWN0LmFuYWx5c2lzLndpbmRvd3MubmV0IiwiZXhwIjoxNzYzMzI0MDM3LCJhbGxvd0FjY2Vzc092ZXJQdWJsaWNJbnRlcm5ldCI6dHJ1ZX0=";
    // 2. URL de Embed del reporte (la de Embedded, no la del portal)
    let embedUrl = "https://app.powerbi.com/reportEmbed?reportId=b974018c-0baa-4a20-8b82-4601403cae44&groupId=84a70e42-0cf9-49d7-98f5-46921636a1ca";


    // 3. ID del reporte
    let reportId = "b974018c-0baa-4a20-8b82-4601403cae44";

    let models = window['powerbi-client'].models;

    let config = {
        type: 'report',
        tokenType: models.TokenType.Embed,
        accessToken: embedToken,
        embedUrl: embedUrl,
        id: reportId,
        permissions: models.Permissions.View,
        settings: {
            panes: {
                filters: { visible: false },
                pageNavigation: { visible: true }
            }
        }
    };

    let reportContainer = document.getElementById("reportContainer");
    let report = window.powerbi.embed(reportContainer, config);
</script>

</body>
</html>

